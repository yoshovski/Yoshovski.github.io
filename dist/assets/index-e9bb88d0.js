import{S as de,P as ue,W as me,a as fe,O as pe,D as he,G as ge,V as we,N,s as ye,M as V,T as q,b as W,C as Oe,A as be,c as b,F as xe,d as E,e as H,f as T,g as Ae,h as Y,R as U,i as Le,j as Ee,L as Se,k as Ce,l as Pe}from"./three-36d563f6.js";import"./dat.gui-2a10ef7c.js";import{g as n}from"./gsap-10963069.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();const r={ROOM:"room",BOOK_CV:"Book",BOOK1:"Book001",BOOK:"open_book",STAND:"Stand",SWITCH_BOARD:"SwitchBoard",SWITCH:"Switch",DRAGON:"dragon",CAMERA_TRIPOD:"camera_tripod",OFFICE_CHAIR:"office_chair",CPU:"CPU",WALL:"Wall",DRONE:"drone",FLAG:"BG_flag",APPLE:"apple",SPEAKER:"speaker",BALL:"ball",GIN:"gin"},v={BOOK:{OPEN:"Animation"},DRONE:{HOVER:"hover"},FLAG:{MOVE:"Object_0"},DRAGON:{IDLE:"metarig|idol"}};let A="light",L=null,z=null,g=null,w=null;const _=new Map;let S=null,I,p,C=!1,P=!1,ve=window.matchMedia("(max-width: 992px)").matches,Ie=document.querySelector(".experience-canvas");const Re=document.getElementById("loader-wrapper");let y=[{image:"textures/project-colorpop.jpg",url:"https://github.com/Copelli-Yoshovski-Associates/ColorPop_AI_Project"},{image:"textures/project-java-app.jpg",url:"https://github.com/yoshovski/store-management-software-unical"},{image:"textures/project-siliconsquare.jpg",url:"https://github.com/Silicon-Square/SiliconSquare"},{image:"textures/project-sorting.jpg",url:"https://github.com/Copelli-Yoshovski-Associates/Parallel-Sorting-Algorithms-MPI"},{image:"textures/project-thesis.jpg",url:"https://github.com/yoshovski/Thesis-ASP-Based-System-For-Humanitarian-Assistance"},{image:"textures/project-wordpress-plugin.jpg",url:"https://github.com/yoshovski/world-domi-map"}],X={x:.12,y:.2,z:.55},$={x:-1.54,y:.13,z:1.41},J={x:1,y:.45,z:.01},Q={x:.05,y:.05,z:0};const d=new de,u=new ue(75,window.innerWidth/window.innerHeight,.01,1e3);let R={x:5.6,y:.5463638814987481,z:.8},Me={x:-.8313297556598935,y:.9383399492446749,z:.7240714481613063};u.position.set(R.x,R.y,R.z);const O=new me({canvas:Ie,antialias:!0});O.setSize(window.innerWidth,window.innerHeight);O.setPixelRatio(window.devicePixelRatio);O.shadowMap.enabled=!0;O.shadowMap.type=fe;const m=new pe(u,O.domElement);m.enablePan=!1;m.minDistance=.9;m.maxDistance=1.6;m.minAzimuthAngle=.2;m.maxAzimuthAngle=Math.PI*.78;m.minPolarAngle=.3;m.maxPolarAngle=Math.PI/2;m.update();const Be=[r.DRAGON,r.CAMERA_TRIPOD,r.OFFICE_CHAIR,r.APPLE,r.SPEAKER,r.BALL,r.GIN,r.DRONE,r.BOOK,r.FLAG],Z=new he;Z.setDecoderPath("lib/draco/");const ee=new ge;ee.setDRACOLoader(Z);ee.load("models/room/room.glb",function(e){I=e,Re.style.display="none",p=document.createElement("video"),p.src="textures/drone.mp4",p.muted=!0,p.playsInline=!0,p.autoplay=!0,p.loop=!0;const t=new we(p);t.minFilter=N,t.magFilter=N,t.generateMipmaps=!1,t.encoding=ye,e.scene=e.scene.children[0],e.scene.children.forEach(o=>{if(ce(o),o.name!==r.WALL&&(o.castShadow=!0),o.receiveShadow=!0,o.children&&o.children.forEach(i=>{i.name!==r.BOOK1&&i.name!==r.SWITCH&&(i.castShadow=!0),i.receiveShadow=!0}),o.name===r.STAND&&(o.children[0].material=new V({map:t}),p.play()),o.name===r.BOOK_CV){L=o.children[0];const i=new q().load("textures/book-inner.jpg");i.flipY=!1,o.material=new W({color:16777215,map:i})}o.name===r.SWITCH_BOARD&&(z=o.children[0]),o.name===r.APPLE&&o.material instanceof W&&(o.material.emissive=new Oe(16711680),o.material.emissiveIntensity=.4,o.material.needsUpdate=!0),Be.includes(o.name)&&le(o),M(e,r.DRAGON,v.DRAGON.IDLE)}),d.add(e.scene),te(),ke(),_e(),Fe(),Ge(),Ne(),We(e.scene)},function(e){console.error(e)});const x=new be(16777215,.6);d.add(x);const c=new b(16777215,2.5,10);c.position.set(.3,2,.5);c.castShadow=!0;c.shadow.radius=5;c.shadow.mapSize.width=2048;c.shadow.mapSize.height=2048;c.shadow.camera.far=2.5;c.shadow.bias=-.002;d.add(c);const K=new b(65280,30,.05),B=new b(16711680,0,1.1),D=new b(16711680,0,1.1),k=new b(16711680,0,1.1),j=new b(16711680,0,1.1);B.position.set(-.2,.6,.24);D.position.set(-.2,.6,.42);k.position.set(-.2,.6,.01);j.position.set(-.2,.6,-.14);d.add(B);d.add(D);d.add(k);d.add(j);const De=new Pe;function te(){requestAnimationFrame(te);const e=De.getDelta();_.forEach(t=>t.update(e)),O.render(d,u)}function ke(){const e=new xe;e.load("fonts/unione.json",function(t){const o=[new E({color:1515303,flatShading:!0}),new E({color:16777215})],i=new H("STEFKO YOSHOVSKI",{font:t,size:.08,height:.01});g=new T(i,o),g.rotation.y=Math.PI*.5,g.position.set(-.27,.55,.5),d.add(g)}),e.load("fonts/helvatica.json",function(t){const o=[new E({color:1515303,flatShading:!0}),new E({color:16777215})],i=new H("Videomaker / Developer / Photographer",{font:t,size:.018,height:0});w=new T(i,o),w.rotation.y=Math.PI*.5,w.position.set(-.255,.5,.5),d.add(w)})}function je(e){e==="dark"?(z.rotation.z=Math.PI/7,document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),n.to(c.color,{r:.2725490196078431,g:.23137254901960785,b:.6862745098039216}),n.to(x.color,{r:.17254901960784313,g:.23137254901960785,b:.6862745098039216}),n.to(c,{intensity:1.5}),n.to(x,{intensity:.3}),n.to(K,{distance:.07}),n.to(g.material[0].color,{r:8,g:8,b:8,duration:0}),n.to(g.material[1].color,{r:5,g:5,b:5,duration:0}),n.to(w.material[0].color,{r:8,g:8,b:8,duration:0}),n.to(w.material[1].color,{r:5,g:5,b:5,duration:0}),n.to(B,{intensity:.6}),n.to(D,{intensity:.6}),n.to(k,{intensity:.6}),n.to(j,{intensity:.6})):(z.rotation.z=0,document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),n.to(c.color,{r:1,g:1,b:1}),n.to(x.color,{r:1,g:1,b:1}),n.to(c,{intensity:2.5}),n.to(x,{intensity:.6}),n.to(K,{distance:.05}),n.to(g.material[0].color,{r:.09019607843137255,g:.12156862745098039,b:.15294117647058825,duration:0}),n.to(g.material[1].color,{r:1,g:1,b:1,duration:0}),n.to(w.material[0].color,{r:.09019607843137255,g:.12156862745098039,b:.15294117647058825,duration:0}),n.to(w.material[1].color,{r:1,g:1,b:1,duration:0}),n.to(B,{intensity:0}),n.to(D,{intensity:0}),n.to(k,{intensity:0}),n.to(j,{intensity:0}))}function Te(){m.enabled=!0}function F(){m.enabled=!1}function G(){document.getElementById("close-btn").style.display="block"}function ze(){document.getElementById("close-btn").style.display="none"}function oe(){L&&n.to(L.rotation,{x:0,duration:1.5})}function ne(){y.length!==0&&y.forEach((e,t)=>{n.to(e.mesh.material,{opacity:0,duration:1}),n.to(e.mesh.position,{y:e.y,duration:1}),n.to(e.mesh.scale,{x:0,y:0,z:0,duration:0,delay:1})})}function ie(){oe(),ne(),ze(),n.to(u.position,{...R,duration:1.5}),n.to(u.rotation,{...Me,duration:1.5}),n.delayedCall(1.5,Te),A!=="dark"&&n.to(c,{intensity:2.5,duration:1.5})}function _e(){document.getElementById("logo").addEventListener("click",function(e){e.preventDefault(),ie()})}function ae(){L&&(n.to(u.position,{...X,duration:1.5}),n.to(u.rotation,{...$,duration:1.5}),n.to(L.rotation,{x:Math.PI,duration:1.5,delay:1.5}),A!=="dark"&&n.to(c,{intensity:1,duration:1.5}))}function Fe(){document.getElementById("about-menu").addEventListener("click",function(e){e.preventDefault(),F(),ne(),ae(),n.delayedCall(1.5,G)})}function Ge(){y.forEach((e,t)=>{const o=t%3,i=Math.floor(t/3),a=new Ae(.71,.4),s=new V({color:16777215,map:new q().load(e.image),transparent:!0,opacity:0}),l=new T(a,s);l.name="project",l.userData={url:e.url},l.position.set(.3+o*.8,1-i*.5,-1.15),l.scale.set(0,0,0),y[t].mesh=l,y[t].y=1-i*.5,d.add(l)}),document.getElementById("projects-menu").addEventListener("click",function(e){e.preventDefault(),F(),oe(),n.to(u.position,{...J,duration:1.5}),n.to(u.rotation,{...Q,duration:1.5}),n.delayedCall(1.5,G),y.forEach((t,o)=>{t.mesh.scale.set(1,1,1),n.to(t.mesh.material,{opacity:1,duration:1.5,delay:1.5+o*.1}),n.to(t.mesh.position,{y:t.y+.05,duration:1,delay:1.5+o*.1})})})}function Ne(){const e=new Y,t=new U;let o;window.addEventListener("click",function(i){if(P)return;P=!0;const a=A==="light"?"dark":"light",s=document.getElementById("close-btn"),l=document.getElementById("projects-menu");if(i.target===s||s.contains(i.target)||i.target===l||l.contains(i.target))return P=!1,!1;if(e.x=i.clientX/window.innerWidth*2-1,e.y=-(i.clientY/window.innerHeight)*2+1,t.setFromCamera(e,u),o=t.intersectObjects(d.children),o.length>0){const f=o[0],h=re(f.object);f.object.name==="project"&&f.object.userData.url&&window.open(f.object.userData.url),(f.object.name===r.BOOK_CV||f.object.name===r.BOOK1)&&(F(),ae(),n.delayedCall(1.5,G)),(f.object.name===r.SWITCH_BOARD||f.object.name===r.SWITCH)&&(A=a,je(A)),h.name===r.SPEAKER&&(console.log("Speaker clicked"),p?(C=!C,p.muted=!C,console.log(`Audio is now ${C?"on":"off"}`)):console.error("Video element not found"))}setTimeout(()=>{P=!1,console.log("Click processing reset.")},100)})}function We(e){ve&&(e.scale.set(.95,.95,.95),X={x:.09,y:.23,z:.51},$={x:-1.57,y:0,z:1.57},J={x:1.1,y:.82,z:.5},Q={x:0,y:0,z:1.55},y.forEach((t,o)=>{t.mesh.position.z=-1.13}),m.maxDistance=1.5,m.maxAzimuthAngle=Math.PI*.75)}document.getElementById("close-btn").addEventListener("click",e=>{e.preventDefault(),ie()});document.getElementById("contact-btn").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".contact-menu__dropdown").classList.toggle("contact-menu__dropdown--open")});document.addEventListener("mouseup",e=>{const t=document.querySelector(".contact-menu");t.contains(e.target)||t.querySelector(".contact-menu__dropdown").classList.remove("contact-menu__dropdown--open")});window.addEventListener("resize",()=>{u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),O.setSize(window.innerWidth,window.innerHeight)});function M(e,t,o,i=!0){const a=se(e.scene,t);if(a.name===t){console.log("object found: ",a);const s=e.animations.map(h=>h.name);console.log("Available Animations: ",s);let l=_.get(t);l||(l=new Le(a),_.set(t,l));const f=Ee.findByName(e.animations,o);if(f){const h=l.clipAction(f);h.reset(),h.play(),i?h.setLoop(Se):(h.setLoop(Ce),h.clampWhenFinished=!0),console.log("Animation clip is playing"),a.userData.mixer=l}else console.error("Animation clip not found")}}function re(e){for(;e.parent&&e.parent.name!==r.ROOM;)e=e.parent;return e}function He(e){const t=new Y,o=new U;t.x=e.clientX/window.innerWidth*2-1,t.y=-(e.clientY/window.innerHeight)*2+1,o.setFromCamera(t,u);const i=o.intersectObjects(d.children,!0);if(i.length>0){const a=i[0].object,s=re(a);console.log("Hovered object:",s.name),s.name===r.DRONE?S!==s&&(S=s,M(I,r.DRONE,v.DRONE.HOVER),M(I,r.FLAG,v.FLAG.MOVE),M(I,r.BOOK,v.BOOK.OPEN,!1)):S=null}else S=null}window.addEventListener("mousemove",He);function se(e,t){if(e.name===t)return e;for(let o=0;o<e.children.length;o++){const i=e.children[o],a=se(i,t);if(a)return a}return null}function le(e){e.castShadow=!0,e.receiveShadow=!0,e.children.forEach(t=>le(t))}function ce(e){e.material&&console.log(`Object: ${e.name}, Material:`,e.material),e.children.forEach(t=>ce(t))}
